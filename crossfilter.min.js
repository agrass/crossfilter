!function(r){function n(r){return r}function t(r,n){for(var t=0,e=n.length,u=Array(e);e>t;++t)u[t]=r[n[t]];return u}function e(r){function n(n,t,e,u){for(;u>e;){var f=e+u>>>1;r(n[f])<t?e=f+1:u=f}return e}function t(n,t,e,u){for(;u>e;){var f=e+u>>>1;t<r(n[f])?u=f:e=f+1}return e}return t.right=t,t.left=n,t}function u(r){function n(r,n,t){for(var u=t-n,f=(u>>>1)+1;--f>0;)e(r,f,u,n);return r}function t(r,n,t){for(var u,f=t-n;--f>0;)u=r[n],r[n]=r[n+f],r[n+f]=u,e(r,1,f,n);return r}function e(n,t,e,u){for(var f,o=n[--u+t],i=r(o);(f=t<<1)<=e&&(e>f&&r(n[u+f])>r(n[u+f+1])&&f++,!(i<=r(n[u+f])));)n[u+t]=n[u+f],t=f;n[u+t]=o}return n.sort=t,n}function f(r){function n(n,e,u,f){var o,i,a,c,v=Array(f=Math.min(u-e,f));for(i=0;f>i;++i)v[i]=n[e++];if(t(v,0,f),u>e){o=r(v[0]);do(a=r(c=n[e])>o)&&(v[0]=c,o=r(t(v,0,f)[0]));while(++e<u)}return v}var t=u(r);return n}function o(r){function n(n,t,e){for(var u=t+1;e>u;++u){for(var f=u,o=n[u],i=r(o);f>t&&r(n[f-1])>i;--f)n[f]=n[f-1];n[f]=o}return n}return n}function i(r){function n(r,n,u){return(z>u-n?e:t)(r,n,u)}function t(t,e,u){var f,o=(u-e)/6|0,i=e+o,a=u-1-o,c=e+u-1>>1,v=c-o,l=c+o,s=t[i],h=r(s),d=t[v],p=r(d),g=t[c],y=r(g),m=t[l],x=r(m),b=t[a],A=r(b);h>p&&(f=s,s=d,d=f,f=h,h=p,p=f),x>A&&(f=m,m=b,b=f,f=x,x=A,A=f),h>y&&(f=s,s=g,g=f,f=h,h=y,y=f),p>y&&(f=d,d=g,g=f,f=p,p=y,y=f),h>x&&(f=s,s=m,m=f,f=h,h=x,x=f),y>x&&(f=g,g=m,m=f,f=y,y=x,x=f),p>A&&(f=d,d=b,b=f,f=p,p=A,A=f),p>y&&(f=d,d=g,g=f,f=p,p=y,y=f),x>A&&(f=m,m=b,b=f,f=x,x=A,A=f);var k=d,O=p,w=m,E=x;t[i]=s,t[v]=t[e],t[c]=g,t[l]=t[u-1],t[a]=b;var _=e+1,M=u-2,U=E>=O&&O>=E;if(U)for(var z=_;M>=z;++z){var C=t[z],N=r(C);if(O>N)z!==_&&(t[z]=t[_],t[_]=C),++_;else if(N>O)for(;;){var R=r(t[M]);{if(!(R>O)){if(O>R){t[z]=t[_],t[_++]=t[M],t[M--]=C;break}t[z]=t[M],t[M--]=C;break}M--}}}else for(var z=_;M>=z;z++){var C=t[z],N=r(C);if(O>N)z!==_&&(t[z]=t[_],t[_]=C),++_;else if(N>E)for(;;){var R=r(t[M]);{if(!(R>E)){O>R?(t[z]=t[_],t[_++]=t[M],t[M--]=C):(t[z]=t[M],t[M--]=C);break}if(M--,z>M)break}}}if(t[e]=t[_-1],t[_-1]=k,t[u-1]=t[M+1],t[M+1]=w,n(t,e,_-1),n(t,M+2,u),U)return t;if(i>_&&M>a){for(var S,R;(S=r(t[_]))<=O&&S>=O;)++_;for(;(R=r(t[M]))<=E&&R>=E;)--M;for(var z=_;M>=z;z++){var C=t[z],N=r(C);if(O>=N&&N>=O)z!==_&&(t[z]=t[_],t[_]=C),_++;else if(E>=N&&N>=E)for(;;){var R=r(t[M]);{if(!(E>=R&&R>=E)){O>R?(t[z]=t[_],t[_++]=t[M],t[M--]=C):(t[z]=t[M],t[M--]=C);break}if(M--,z>M)break}}}}return n(t,_,M+1)}var e=o(r);return n}function a(r){for(var n=Array(r),t=-1;++t<r;)n[t]=0;return n}function c(r,n){for(var t=r.length;n>t;)r[t++]=0;return r}function v(r,n){if(n>32)throw Error("invalid array width!");return r}function l(r,n){return function(t){var e=t.length;return[r.left(t,n,0,e),r.right(t,n,0,e)]}}function s(r,n){var t=n[0],e=n[1];return function(n){var u=n.length;return[r.left(n,t,0,u),r.left(n,e,0,u)]}}function h(r){return[0,r.length]}function d(){return null}function p(){return 0}function g(r){return r+1}function y(r){return r-1}function m(r){return function(n,t){return n+ +r(t)}}function x(r){return function(n,t){return n-r(t)}}function b(){function r(r){var n=E,t=r.length;return t&&(b=b.concat(r),U=S(U,E+=t),N.forEach(function(e){e(r,n,t)})),v}function e(){for(var r=A(E,E),n=[],t=0,e=0;E>t;++t)U[t]?r[t]=e++:n.push(t);z.forEach(function(r){r(0,[],n)}),R.forEach(function(n){n(r)});for(var u,t=0,e=0;E>t;++t)(u=U[t])&&(t!==e&&(U[e]=u,b[e]=b[t]),++e);for(b.length=e;E>e;)U[--E]=0}function o(r){function e(n,e,u){V=n.map(r),W=rn(k(u),0,u),V=t(V,W);var f,o=nn(V),i=o[0],a=o[1];if(X)for(f=0;u>f;++f)X(V[f],f)||(U[W[f]+e]|=Z);else{for(f=0;i>f;++f)U[W[f]+e]|=Z;for(f=a;u>f;++f)U[W[f]+e]|=Z}if(!e)return Q=V,T=W,un=i,void(fn=a);var c=Q,v=T,l=0,s=0;for(Q=Array(E),T=A(E,E),f=0;e>l&&u>s;++f)c[l]<V[s]?(Q[f]=c[l],T[f]=v[l++]):(Q[f]=V[s],T[f]=W[s++]+e);for(;e>l;++l,++f)Q[f]=c[l],T[f]=v[l];for(;u>s;++s,++f)Q[f]=V[s],T[f]=W[s]+e;o=nn(Q),un=o[0],fn=o[1]}function o(r,n,t){tn.forEach(function(r){r(V,W,n,t)}),V=W=null}function a(r){for(var n,t=0,e=0;E>t;++t)U[n=T[t]]&&(t!==e&&(Q[e]=Q[t]),T[e]=r[n],++e);for(Q.length=e;E>e;)T[e++]=0;var u=nn(Q);un=u[0],fn=u[1]}function c(r){var n=r[0],t=r[1];if(X)return X=null,H(function(r,e){return e>=n&&t>e}),un=n,fn=t,Y;var e,u,f,o=[],i=[];if(un>n)for(e=n,u=Math.min(un,t);u>e;++e)U[f=T[e]]^=Z,o.push(f);else if(n>un)for(e=un,u=Math.min(n,fn);u>e;++e)U[f=T[e]]^=Z,i.push(f);if(t>fn)for(e=Math.max(n,fn),u=t;u>e;++e)U[f=T[e]]^=Z,o.push(f);else if(fn>t)for(e=Math.max(un,t),u=fn;u>e;++e)U[f=T[e]]^=Z,i.push(f);return un=n,fn=t,z.forEach(function(r){r(Z,o,i)}),Y}function v(r){return null==r?D():Array.isArray(r)?B(r):"function"==typeof r?G(r):C(r)}function C(r){return c((nn=l(w,r))(Q))}function B(r){return c((nn=s(w,r))(Q))}function D(){return c((nn=h)(Q))}function G(r){return nn=h,H(X=r),un=0,fn=E,Y}function H(r){var n,t,e,u=[],f=[];for(n=0;E>n;++n)!(U[t=T[n]]&Z)^!!(e=r(Q[n],n))&&(e?(U[t]&=$,u.push(t)):(U[t]|=Z,f.push(t)));z.forEach(function(r){r(Z,u,f)})}function I(r){for(var n,t=[],e=fn;--e>=un&&r>0;)U[n=T[e]]||(t.push(b[n]),--r);return t}function J(r){for(var n,t=[],e=un;fn>e&&r>0;)U[n=T[e]]||(t.push(b[n]),--r),e++;return t}function K(r){function t(n,t,e,u){function f(){++Y===X&&(m=q(m,W<<=1),I=q(I,W),X=O(W))}var v,l,s,h,p,g,y=H,m=A(Y,X),x=L,k=V,w=Y,_=0,M=0;for(un&&(x=k=d),H=Array(Y),Y=0,I=w>1?S(I,E):A(E,X),w&&(s=(l=y[0]).key);u>M&&!((h=r(n[M]))>=h);)++M;for(;u>M;){for(l&&h>=s?(p=l,g=s,m[_]=Y,(l=y[++_])&&(s=l.key)):(p={key:h,value:k()},g=h),H[Y]=p;!(h>g||(I[v=t[M]+e]=Y,U[v]&$||(p.value=x(p.value,b[v])),++M>=u));)h=r(n[M]);f()}for(;w>_;)H[m[_]=Y]=y[_++],f();if(Y>_)for(_=0;e>_;++_)I[_]=m[I[_]];v=z.indexOf(rn),Y>1?(rn=o,nn=a):(!Y&&fn&&(Y=1,H=[{key:null,value:k()}]),1===Y?(rn=i,nn=c):(rn=d,nn=d),I=null),z[v]=rn}function e(){if(Y>1){for(var r=Y,n=H,t=A(r,r),e=0,u=0;E>e;++e)U[e]&&(t[I[u]=I[e]]=1,++u);for(H=[],Y=0,e=0;r>e;++e)t[e]&&(t[e]=Y++,H.push(n[e]));if(Y>1)for(var e=0;u>e;++e)I[e]=t[I[e]];else I=null;z[z.indexOf(rn)]=Y>1?(nn=a,rn=o):1===Y?(nn=c,rn=i):nn=rn=d}else if(1===Y){if(fn)return;for(var e=0;E>e;++e)if(U[e])return;H=[],Y=0,z[z.indexOf(rn)]=rn=nn=d}}function o(r,n,t){if(r!==Z&&!un){var e,u,f,o;for(e=0,f=n.length;f>e;++e)U[u=n[e]]&$||(o=H[I[u]],o.value=L(o.value,b[u]));for(e=0,f=t.length;f>e;++e)(U[u=t[e]]&$)===r&&(o=H[I[u]],o.value=P(o.value,b[u]))}}function i(r,n,t){if(r!==Z&&!un){var e,u,f,o=H[0];for(e=0,f=n.length;f>e;++e)U[u=n[e]]&$||(o.value=L(o.value,b[u]));for(e=0,f=t.length;f>e;++e)(U[u=t[e]]&$)===r&&(o.value=P(o.value,b[u]))}}function a(){var r,n;for(r=0;Y>r;++r)H[r].value=V();for(r=0;E>r;++r)U[r]&$||(n=H[I[r]],n.value=L(n.value,b[r]))}function c(){var r,n=H[0];for(n.value=V(),r=0;E>r;++r)U[r]&$||(n.value=L(n.value,b[r]))}function v(){return un&&(nn(),un=!1),H}function l(r){var n=J(v(),0,H.length,r);return K.sort(n,0,n.length)}function s(r,n,t){return L=r,P=n,V=t,un=!0,G}function h(){return s(g,y,p)}function k(r){var n=F;return F++,L=function(t,e){var u=_(n,r,e);return j[u]>0?j[u]=j[u]+1:(j[u]=1,t+=1),t},P=function(t,e){var u=_(n,r,e);return j[u]>0?(j[u]=j[u]-1,j[u]<1&&t>0&&(t-=1)):j[u]=-1,t},V=function(){return 0},G}function w(r,n,t,e){var u=F;return F++,r_add=function(t,e){var f=_(u,r,e);return j[f]>0?(j[f]=j[f]+1,t):(j[f]=1,n(t,e))},r_remove=function(n,e){var f=_(u,r,e);if(j[f]>0){if(j[f]=j[f]-1,j[f]<1)return t(n,e)}else j[f]=-1;return n},r_init=function(){return void 0==e?{}:e},s(r_add,r_remove,r_init)}function _(r,n,t){var e=[];e.push(r);for(var u=0;u<n.length;u++)e.push(n[u]in t?t[n[u]]:n[u]);return e}function M(r){return s(m(r),x(r),p)}function C(r){function n(n){return r(n.value)}return J=f(n),K=u(n),G}function N(){return C(n)}function B(){return Y}function D(){var r=z.indexOf(rn);return r>=0&&z.splice(r,1),r=tn.indexOf(t),r>=0&&tn.splice(r,1),r=R.indexOf(e),r>=0&&R.splice(r,1),G}var G={top:l,all:v,reduce:s,reduceCount:h,pivotReduceCount:k,pivotReduce:w,reduceSum:M,order:C,orderNatural:N,size:B,dispose:D,remove:D};en.push(G);var H,I,J,K,L,P,V,W=8,X=O(W),Y=0,rn=d,nn=d,un=!0,fn=r===d;return arguments.length<1&&(r=n),z.push(rn),tn.push(t),R.push(e),t(Q,T,0,E),h().orderNatural()}function L(){var r=K(d),n=r.all;return delete r.all,delete r.top,delete r.order,delete r.orderNatural,delete r.size,r.value=function(){return n()[0].value},r}function P(){en.forEach(function(r){r.dispose()});var r=N.indexOf(e);return r>=0&&N.splice(r,1),r=N.indexOf(o),r>=0&&N.splice(r,1),r=R.indexOf(a),r>=0&&R.splice(r,1),_&=$,D()}var Q,T,V,W,X,Y={filter:v,filterExact:C,filterRange:B,filterFunction:G,filterAll:D,top:I,bottom:J,group:K,groupAll:L,dispose:P,remove:P},Z=~_&-~_,$=~Z,rn=i(function(r){return V[r]}),nn=h,tn=[],en=[],un=0,fn=0;return N.unshift(e),N.push(o),R.push(a),_|=Z,(M>=32?!Z:_&(1<<M)-1)&&(U=q(U,M<<=1)),e(b,0,E),o(b,0,E),Y}function a(){function r(r,n){var t;if(!h)for(t=n;E>t;++t)U[t]||(a=c(a,b[t]))}function n(r,n,t){var e,u,f;if(!h){for(e=0,f=n.length;f>e;++e)U[u=n[e]]||(a=c(a,b[u]));for(e=0,f=t.length;f>e;++e)U[u=t[e]]===r&&(a=v(a,b[u]))}}function t(){var r;for(a=l(),r=0;E>r;++r)U[r]||(a=c(a,b[r]))}function e(r,n,t){return c=r,v=n,l=t,h=!0,s}function u(){return e(g,y,p)}function f(r){return e(m(r),x(r),p)}function o(){return h&&(t(),h=!1),a}function i(){var t=z.indexOf(n);return t>=0&&z.splice(t),t=N.indexOf(r),t>=0&&N.splice(t),s}var a,c,v,l,s={reduce:e,reduceCount:u,reduceSum:f,value:o,dispose:i,remove:i},h=!0;return z.push(n),N.push(r),r(b,0,E),u()}function c(){return E}var v={add:r,remove:e,dimension:o,groupAll:a,size:c},b=[],E=0,_=0,M=8,U=C(0),z=[],N=[],R=[],F=0,j={};return arguments.length?r(arguments[0]):v}function A(r,n){return(257>n?C:65537>n?N:R)(r)}function k(r){for(var n=A(r,r),t=-1;++t<r;)n[t]=t;return n}function O(r){return 8===r?256:16===r?65536:4294967296}b.version="1.3.11",b.permute=t;var w=b.bisect=e(n);w.by=e;var E=b.heap=u(n);E.by=u;var _=b.heapselect=f(n);_.by=f;var M=b.insertionsort=o(n);M.by=o;var U=b.quicksort=i(n);U.by=i;var z=32,C=a,N=a,R=a,S=c,q=v;"undefined"!=typeof Uint8Array&&(C=function(r){return new Uint8Array(r)},N=function(r){return new Uint16Array(r)},R=function(r){return new Uint32Array(r)},S=function(r,n){if(r.length>=n)return r;var t=new r.constructor(n);return t.set(r),t},q=function(r,n){var t;switch(n){case 16:t=N(r.length);break;case 32:t=R(r.length);break;default:throw Error("invalid array width!")}return t.set(r),t}),r.crossfilter=b}("undefined"!=typeof exports&&exports||this);